{"ast":null,"code":"import _slicedToArray from \"/home/ashish/bmi-calculator/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/ashish/bmi-calculator/src/components/App/App.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport 'materialize-css/dist/css/materialize.min.css';\nimport './App.css';\nimport BmiForm from '../BmiForm/BmiForm';\nimport Info from '../Info/Info';\nimport Bar from '../Bar/Bar';\nimport { getData, storeData } from '../../helpers/localStorage';\n\nconst App = () => {\n  const initialState = () => getData('data') || [];\n\n  const _useState = useState(initialState),\n        _useState2 = _slicedToArray(_useState, 2),\n        state = _useState2[0],\n        setState = _useState2[1];\n\n  const _useState3 = useState({}),\n        _useState4 = _slicedToArray(_useState3, 2),\n        data = _useState4[0],\n        setData = _useState4[1];\n\n  useEffect(() => {\n    storeData('data', state);\n    const date = state.map(obj => obj.date);\n    const bmi = state.map(obj => obj.bmi);\n    let newData = {\n      date,\n      bmi\n    };\n    setData(newData);\n  }, [state]);\n\n  const handleChange = val => {\n    let heightInM = val.height / 100;\n    val.bmi = (val.weight / (heightInM * heightInM)).toFixed(2);\n    val.id = uuidv4();\n    let newVal = [...state, val];\n    let len = newVal.length;\n    if (len > 7) newVal = newVal.slice(1, len);\n    setState(newVal);\n  };\n\n  const handleDelete = id => {\n    storeData('lastState', state);\n    let newState = state.filter(i => {\n      return i.id !== id;\n    });\n    setState(newState);\n  };\n\n  const handleUndo = () => {\n    setState(getData('lastState'));\n  };\n\n  return React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"white-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \" BMI Tracker \")), React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col m12 s12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(BmiForm, {\n    change: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }), React.createElement(Bar, {\n    labelData: data.date,\n    bmiData: data.bmi,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    className: \"white-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"7 Day Data\")), React.createElement(\"div\", {\n    className: \"data-container row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, state.length > 0 ? React.createElement(React.Fragment, null, state.map(info => React.createElement(Info, {\n    key: info.id,\n    id: info.id,\n    weight: info.weight,\n    height: info.height,\n    date: info.date,\n    bmi: info.bmi,\n    deleteCard: handleDelete,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }))) : React.createElement(\"div\", {\n    className: \"center white-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"No log found\"))), getData('lastState') !== null ? React.createElement(\"div\", {\n    className: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"calculate-btn\",\n    onClick: handleUndo,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"Undo\")) : '')));\n};\n\nexport default App;","map":{"version":3,"sources":["/home/ashish/bmi-calculator/src/components/App/App.jsx"],"names":["React","useState","useEffect","v4","uuidv4","BmiForm","Info","Bar","getData","storeData","App","initialState","state","setState","data","setData","date","map","obj","bmi","newData","handleChange","val","heightInM","height","weight","toFixed","id","newVal","len","length","slice","handleDelete","newState","filter","i","handleUndo","info"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport 'materialize-css/dist/css/materialize.min.css';\nimport './App.css';\nimport BmiForm from '../BmiForm/BmiForm';\nimport Info from '../Info/Info';\nimport Bar from '../Bar/Bar';\nimport { getData, storeData } from '../../helpers/localStorage';\n\nconst App = () => {\n  const initialState = () => getData('data') || [];\n  const [state, setState] = useState(initialState);\n  const [data, setData] = useState({});\n\n  useEffect(() => {\n    storeData('data', state);\n    const date = state.map(obj => obj.date);\n    const bmi = state.map(obj => obj.bmi);\n    let newData = { date, bmi };\n    setData(newData);\n  }, [state]);\n\n  const handleChange = val => {\n    let heightInM = val.height / 100;\n    val.bmi = (val.weight / (heightInM * heightInM)).toFixed(2);\n    val.id = uuidv4();\n    let newVal = [...state, val];\n    let len = newVal.length;\n    if (len > 7) newVal = newVal.slice(1, len);\n    setState(newVal);\n  };\n\n  const handleDelete = id => {\n    storeData('lastState', state);\n    let newState = state.filter(i => {\n      return i.id !== id;\n    });\n    setState(newState);\n  };\n\n  const handleUndo = () => {\n    setState(getData('lastState'));\n  };\n\n  return (\n    <div className='container'>\n      <div className='row center'>\n        <h1 className='white-text'> BMI Tracker </h1>\n      </div>\n      <div className='row'>\n        <div className='col m12 s12'>\n          <BmiForm change={handleChange} />\n          <Bar labelData={data.date} bmiData={data.bmi} />\n          <div>\n            <div className='row center'>\n              <h4 className='white-text'>7 Day Data</h4>\n            </div>\n            <div className='data-container row'>\n              {state.length > 0 ? (\n                <>\n                  {state.map(info => (\n                    <Info\n                      key={info.id}\n                      id={info.id}\n                      weight={info.weight}\n                      height={info.height}\n                      date={info.date}\n                      bmi={info.bmi}\n                      deleteCard={handleDelete}\n                    />\n                  ))}\n                </>\n              ) : (\n                  <div className='center white-text'>No log found</div>\n                )}\n            </div>\n          </div>\n          {getData('lastState') !== null ? (\n            <div className='center'>\n              <button className='calculate-btn' onClick={handleUndo}>\n                Undo\n              </button>\n            </div>\n          ) : (\n              ''\n            )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}